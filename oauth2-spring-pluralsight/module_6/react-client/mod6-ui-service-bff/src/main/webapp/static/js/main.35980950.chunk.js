(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,n){e.exports=n(73)},44:function(e,t,n){},49:function(e,t,n){},73:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(35),o=n.n(c),l=(n(44),n(3)),i=n(4),s=n(6),u=n(5),m=n(7),h=n(13),p=(n(49),n(75)),b=n(37),d=n(11),f=n.n(d),v=n(16),E=n(17),y=n.n(E),g=n(19),j=function(){function e(){Object(l.a)(this,e),this.userManager=void 0;this.userManager=new g.UserManager({authority:"http://localhost:8081/auth/realms/CryptoInc",client_id:"crypto-portfolio-react",redirect_uri:"http://localhost:3000/callback.html",response_type:"id_token token",scope:"openid profile email"}),this.userManager.events.addUserLoaded,g.Log.logger=console,g.Log.level=g.Log.INFO}return Object(i.a)(e,[{key:"isAuthenticated",value:function(){return!!sessionStorage.getItem("access_token")}},{key:"completeLogin",value:function(){this.userManager.signinRedirectCallback().then(function(e){return sessionStorage.setItem("access_token",e.access_token)}).catch(function(e){return console.log(e)})}},{key:"getUser",value:function(){return this.userManager.getUser()}},{key:"login",value:function(){return this.userManager.signinRedirect()}},{key:"renewToken",value:function(){return this.userManager.signinSilent()}},{key:"logout",value:function(){return this.userManager.signoutRedirect()}},{key:"getHeader",value:function(){return{Authorization:"Bearer "+sessionStorage.getItem("access_token")}}}],[{key:"getInstance",value:function(){return void 0===e.instance&&(e.instance=new e),e.instance}}]),e}();j.instance=void 0;var O=function(){return function(){var e=Object(v.a)(f.a.mark(function e(t){var n,a,r;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("http://localhost:8180/portfolio",{headers:j.getInstance().getHeader()});case 2:n=e.sent,a=n.data,r={type:"GotPositions",positions:a.positions},t(r);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(){var t=Object(v.a)(f.a.mark(function t(n){var a,r;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.get("http://localhost:8180/portfolio/transactions/"+e,{headers:j.getInstance().getHeader()});case 2:a=t.sent,r=a.data,n({type:"GotTransactions",transactions:r});case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},C=function(e){var t=e.position;return a.createElement("tr",null,a.createElement("th",null,t.cryptoCurrency.symbol),a.createElement("th",null,t.quantity),a.createElement("th",null,t.value))},S=n(18),T=n(2),w=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={cryptoSymbol:"",type:"",quantity:0,price:0},n.onChange=n.onChange.bind(Object(T.a)(Object(T.a)(n))),n.onSelectChange=n.onSelectChange.bind(Object(T.a)(Object(T.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(T.a)(Object(T.a)(n))),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"onChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"onSelectChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t={cryptoSymbol:this.state.cryptoSymbol,price:this.state.price,quantity:this.state.quantity,transactionType:this.state.type};void 0!==this.props.addTransaction&&this.props.addTransaction(t)}},{key:"render",value:function(){return a.createElement("div",{className:"container add_trans_div"},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("fieldset",null,a.createElement("label",null,"Symbol"),a.createElement("select",{name:"cryptoSymbol",required:!0,value:this.state.cryptoSymbol,onChange:this.onSelectChange},a.createElement("option",{value:""},"----Select----"),a.createElement("option",{value:"BTC"},"BTC"),a.createElement("option",{value:"LTC"},"LTC")),a.createElement("label",null,"Symbol"),a.createElement("select",{name:"type",required:!0,value:this.state.type,onChange:this.onSelectChange},a.createElement("option",{value:""},"----Select----"),a.createElement("option",{value:"BUY"},"BUY"),a.createElement("option",{value:"SELL"},"SELL")),a.createElement("label",null,"Quantity"),a.createElement("input",{type:"number",name:"quantity",required:!0,value:this.state.quantity,onChange:this.onChange}),a.createElement("label",null,"Price"),a.createElement("input",{type:"number",name:"price",required:!0,value:this.state.price,onChange:this.onChange}),a.createElement("button",{name:"addTransactionBtn",type:"submit"},"Add Transaction"))))}}]),t}(a.Component),N=Object(h.b)(null,function(e){return{addTransaction:function(t,n){return e(function(e){return function(){var t=Object(v.a)(f.a.mark(function t(n){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.post("http://localhost:8180/portfolio/transactions",e,{headers:j.getInstance().getHeader()});case 2:t.sent,n(O());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(w),q=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.createElement(a.Fragment,null,a.createElement("table",{className:"table table-hover"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Symbol"),a.createElement("th",null,"Quantity"),a.createElement("th",null,"Value"))),a.createElement("tbody",null,this.props.positions.map(function(e){return a.createElement(C,{key:e.cryptoCurrency.symbol,position:e})}))),a.createElement(N,null))}}]),t}(a.Component),x=function(e){return a.createElement("tr",null,a.createElement("th",null,a.createElement("input",{id:e.transaction.id,name:"selectedTransaction",type:"checkbox",onChange:e.handleCheckboxChange,value:e.transaction.id})),a.createElement("th",null,e.transaction.id),a.createElement("th",null,e.transaction.symbol),a.createElement("th",null,e.transaction.transactionType),a.createElement("th",null,e.transaction.quantity),a.createElement("th",null,e.transaction.price))},I=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleCheckboxChange=function(e){n.toggleCheckbox(e.target.value)},n.toggleCheckbox=function(e){n.state.selectedTransactionIds.has(e)?n.state.selectedTransactionIds.delete(e):n.state.selectedTransactionIds.add(e)},n.state={selectedTransactionIds:new Set},n.handleSubmit=n.handleSubmit.bind(Object(T.a)(Object(T.a)(n))),n.handleCheckboxChange=n.handleCheckboxChange.bind(Object(T.a)(Object(T.a)(n))),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.loadTransactions()}},{key:"handleSubmit",value:function(e){e.preventDefault(),console.log(e.target),this.props.deleteTransactions(Array.from(this.state.selectedTransactionIds))}},{key:"render",value:function(){var e=this;return a.createElement(a.Fragment,null,a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("table",{className:"table table-hover"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"#"),a.createElement("th",null,"Transaction Id"),a.createElement("th",null,"Symbol"),a.createElement("th",null,"Type"),a.createElement("th",null,"Quantity"),a.createElement("th",null,"Price"))),a.createElement("tbody",null,this.props.transactions.map(function(t,n){return a.createElement(x,{key:t.id,handleCheckboxChange:e.handleCheckboxChange,transaction:t})}))),a.createElement("button",{name:"deleteTransactionBtn",type:"submit"},"Delete Transactions")))}}]),t}(a.Component),Q=Object(h.b)(function(e){return{transactions:e.portfolioTransactions.transactions}},function(e){return{loadTransactions:function(t){return e(k(t))},deleteTransactions:function(t){return e(function(e){return function(){var t=Object(v.a)(f.a.mark(function t(n){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.delete("http://localhost:8180/portfolio/transactions",{data:{id:e},headers:j.getInstance().getHeader()});case 2:t.sent,n(k()),n(O());case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(I),P=n(74),M=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return a.createElement("nav",{className:"navbar navbar-expand-sm  navbar-light crypt_nav"},a.createElement("div",{className:"container-fluid"},a.createElement("div",{className:"navbar-header"},a.createElement("a",{className:"navbar-brand",href:"#"},"Spring - Crypto Portfolio")),a.createElement("ul",{className:"nav navbar-nav"},a.createElement("li",{className:"nav-item active"},a.createElement(P.a,{className:"nav-link",to:"/portfolio"},"Home")),a.createElement("li",{className:"nav-item"},a.createElement(P.a,{className:"nav-link",to:"/portfolio/transactions"},"Transactions")),a.createElement("li",{className:"nav-item"},a.createElement(P.a,{className:"nav-link",to:"/support"},"Support")),a.createElement("li",{className:"nav-item"},a.createElement(P.a,{className:"nav-link",to:"/support/admin"},"Admin")),a.createElement("li",{className:"nav-item"},a.createElement(P.a,{className:"nav-link",to:"/logout"},"Logout"))),a.createElement("ul",{className:"nav navbar-nav navbar-right"},a.createElement("li",{className:"nav-item"},"User: Bob"))))}}]),t}(a.Component),_=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.loadPositions()}},{key:"render",value:function(){var e=this;return a.createElement("div",{className:"container"},a.createElement(M,null),a.createElement(p.a,null,a.createElement(b.a,{path:"/portfolio/transactions",component:Q}),a.createElement(b.a,{path:"/portfolio",component:function(){return a.createElement(q,{positions:e.props.positions})}})))}}]),t}(a.Component),L=Object(h.b)(function(e){return{positions:e.portfolio.positions}},function(e){return{loadPositions:function(){return e(O())}}})(_),A=(n(72),n(77)),B=n(76),F=n(14),R=n(38),D={positions:[]},H={queries:[]},U={transactions:[]},G=Object(F.c)({portfolio:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GotPositions":return{positions:t.positions};default:return e}},portfolioTransactions:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:U,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GotTransactions":return{transactions:t.transactions};default:return e}},support:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GotSupportQueries":return{queries:t.queries};default:return e}}});var z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).authService=void 0,n.authService=j.getInstance(),n.state={},n.handleSubmit=n.handleSubmit.bind(Object(T.a)(Object(T.a)(n))),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault(),this.authService.login()}},{key:"render",value:function(){return a.createElement("div",{className:"container add_trans_div"},a.createElement("form",{onSubmit:this.handleSubmit},a.createElement("button",{name:"loginFormBtn",type:"submit"},"Login")))}}]),t}(a.Component),J=n(78),W=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e="";if(this.props.isAuthenticated||(e=this.props.authenticationPath),e){return a.createElement(b.a,Object.assign({},this.props,{component:function(){return a.createElement(J.a,{to:{pathname:e}})},render:void 0}))}return a.createElement(b.a,this.props)}}]),t}(b.a),Y=function(e){var t=e.query;return a.createElement("tr",{onClick:e.onTableRowClick,id:t.id},a.createElement("th",null,t.subject),a.createElement("th",null,t.username),a.createElement("th",null,t.resolved),a.createElement("th",null,t.creationTime))},V=function(e){var t=e.post;return a.createElement("tr",null,a.createElement("th",null,"Query"),a.createElement("th",null,t.content))},$=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={displayPostsForQuery:""},n.onTableRowClick=n.onTableRowClick.bind(Object(T.a)(Object(T.a)(n))),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"onTableRowClick",value:function(e){this.setState({displayPostsForQuery:e.currentTarget.id})}},{key:"render",value:function(){var e=this,t=[];if(this.props.queries&&(t=this.props.queries),this.state.displayPostsForQuery){var n=t.find(function(t){return t.id===e.state.displayPostsForQuery});if(n)return a.createElement(a.Fragment,null,a.createElement("table",null,a.createElement("tr",null,a.createElement("td",null,"Subject"),a.createElement("td",null,n.subject)),a.createElement(V,{post:n.posts[0]})))}return a.createElement(a.Fragment,null,a.createElement("table",{className:"table table-hover"},a.createElement("thead",null,a.createElement("tr",null,a.createElement("th",null,"Subject"),a.createElement("th",null,"Username"),a.createElement("th",null,"Resolved"),a.createElement("th",null,"Created"))),a.createElement("tbody",null,t.map(function(t){return a.createElement(Y,{onTableRowClick:e.onTableRowClick,key:t.creationTime,query:t})}))))}}]),t}(a.Component),K=function(){return function(){var e=Object(v.a)(f.a.mark(function e(t){var n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.a.get("http://localhost:8180/support",{headers:j.getInstance().getHeader()});case 2:n=e.sent,a=n.data,t({type:"GotSupportQueries",queries:a});case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},X=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={subject:"",content:"",navToMainSupportPage:!1},n.onChange=n.onChange.bind(Object(T.a)(Object(T.a)(n))),n.handleSubmit=n.handleSubmit.bind(Object(T.a)(Object(T.a)(n))),n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault();var t={subject:this.state.subject,content:this.state.content};void 0!==this.props.addQuery&&(this.setState({subject:"",content:"",navToMainSupportPage:!0}),this.props.addQuery(t))}},{key:"onChange",value:function(e){this.setState(Object(S.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return this.state.navToMainSupportPage?a.createElement(J.a,{to:"/support"}):a.createElement("div",{className:"form-group"},a.createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},a.createElement("fieldset",null,a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"Subject"),a.createElement("input",{type:"string",name:"subject",required:!0,value:this.state.subject,onChange:this.onChange})),a.createElement("div",{className:"form-group"},a.createElement("label",{className:"col-sm-2 control-label"},"Query"),a.createElement("textarea",{name:"content",required:!0,value:this.state.content,onChange:this.onChange})),a.createElement("button",{name:"addQueryBtn",type:"submit"},"Add Query"))))}}]),t}(a.Component),Z=Object(h.b)(null,function(e){return{addQuery:function(t,n){return e(function(e){return console.log(e),function(){var t=Object(v.a)(f.a.mark(function t(n){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.a.put("http://localhost:8180/support",e,{headers:j.getInstance().getHeader()});case 2:t.sent,n(K());case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(X),ee=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.props.loadQueries()}},{key:"render",value:function(){var e=this;return a.createElement("div",{className:"container"},a.createElement(M,null),a.createElement(P.a,{className:"nav-link",to:"/support/compose_query"},"Add New"),a.createElement(p.a,null,a.createElement(b.a,{path:"/support/compose_query",component:Z}),a.createElement(b.a,{path:"/support",component:function(){return a.createElement($,{queries:e.props.queries})}})))}}]),t}(a.Component),te=Object(h.b)(function(e){return{queries:e.support.queries}},function(e){return{loadQueries:function(){return e(K())}}})(ee),ne=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).initialState={},n}return Object(m.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e,t={isAuthenticated:j.getInstance().isAuthenticated(),authenticationPath:"/login"};return r.a.createElement(h.a,{store:(e=this.initialState,Object(F.e)(G,e,Object(F.d)(Object(F.a)(R.a))))},r.a.createElement(A.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(B.a,{path:"/login",component:z}),r.a.createElement(W,Object.assign({},t,{exact:!0,path:"/portfolio",component:L})),r.a.createElement(W,Object.assign({},t,{exact:!0,path:"/portfolio/*",component:L})),r.a.createElement(W,Object.assign({},t,{path:"/support",component:te})))))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(ne,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,1,2]]]);
//# sourceMappingURL=main.35980950.chunk.js.map